<!DOCTYPE html>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2017 by bestlukcy (http://jsbin.com/mojeci/2/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html>
<head>
<meta name="description" content="LA 458/558 23b Geolocation">
  <meta charset="utf-8">

  <title>Geolocation</title>

		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
	<script src="https://code.jquery.com/jquery-2.2.4.js"></script>
     <script src="https://bestlukcy.github.io/LA558/leaflet.awesome.markers/leaflet.awesome-markers.js"></script>	
       <div id=container>
	<div id=title>
    <h1>Assignment 19</h1>
  <h2>Xingwei Weng</h2>
       </div>
<style id="jsbin-css">
#container{
  width: 850px;
  height: 750px;
  position: absolute;
  margin: auto;
  left:0;
  right: 0;
}
#title{
  width: 850px;
  height: 120px;
  text-align: center; 
  position: absolute;
  margin: auto;
  background-color: lightgrey;
  left:0;
  right: 0;

}

#context{
  width: 850px;
  height: 80px;
  background-color: lightgrey;
  position: absolute;
  left:0;
  top: 120px;
  
  right: 0;
   text-align: center; 
  margin: auto;

}
#map {
  width: 850px;
  height: 550px;
  background-color: grey;
  position: absolute;
  left:0;
  top: 200px;
  bottom:0;
  right: 0;
  margin: auto;

}
</style>
</head>
<body>
      <div id =context>
        <hr>
	<button onclick="getLocation()">My location</button>
  

	<div id = "myLocation">my location is not set</div>
  </div>
  <div id ="map"></div>
  </div>
<script id="jsbin-javascript">
var osm = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
  attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
});


var map = L.map('map').setView([42.0, -93.634], 4);
osm.addTo(map);



function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else {
        $("#myLocation").html("Geolocation is not supported by this browser.");
    }
}
function showPosition(position) {
	 $("#myLocation").html("Latitude: " + position.coords.latitude + 
    "<br>Longitude: " + position.coords.longitude);
     map.setView(new L.LatLng(position.coords.latitude, position.coords.longitude),15);
     var marker = L.marker([position.coords.latitude, position.coords.longitude]).addTo(map);
    marker.bindPopup("<b>Lat: </b>" + position.coords.latitude +
        "<br><b>Lon: </b>" + position.coords.longitude).openPopup();

}




</script>
</body>
</html>